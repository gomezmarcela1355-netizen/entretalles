<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>ENTRETALLES ‚Äì MOLDER√çA F√çSICA MUJER</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
/* mismos estilos que hombre-fisica */
:root{--azul-top:#1e4aa3;--azul-bottom:#315ec9;--rosa:#ff1493;--txt:#ffffff;--azul-btn:#0b2f6b;--azul-btn-2:#163f92;--azul-footer:#0d3385;--shadow:0 8px 24px rgba(0,0,0,.12)}
*{box-sizing:border-box} body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#fff;color:#113}
header{background:linear-gradient(180deg,var(--azul-top),var(--azul-bottom));color:var(--txt);padding:24px 16px 28px}
.header-wrap{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:220px 1fr 160px;gap:16px;align-items:center}
.logo{width:200px;height:auto;border-radius:10px;background:#fff;padding:18px;box-shadow:0 3px 10px rgba(0,0,0,.25)}
.brand{text-align:center}.brand h1{margin:0 0 6px;font-size:36px}.brand p{margin:0;opacity:.95}
.header-actions{display:flex;justify-content:flex-end;align-items:center}
.profile-btn{display:inline-flex;align-items:center;gap:8px;background:#ffffff20;color:#fff;border:1px solid #ffffff40;border-radius:999px;padding:8px 12px;cursor:pointer;font-weight:bold}
nav{background:var(--rosa);display:flex;justify-content:center;gap:28px;padding:10px 12px;font-weight:bold}
nav a{color:#fff;text-decoration:none;padding:8px 14px;border-radius:999px} nav a:hover{background:rgba(255,255,255,.18)}
.search{max-width:1100px;margin:18px auto 0;padding:0 16px;text-align:center}
.search input{width:min(520px,92%);padding:10px 12px;border:1px solid #cfd6ff;border-radius:10px;font-size:16px}
.wrap{max-width:1250px;margin:10px auto 56px;padding:0 16px;position:relative}
.carousel{display:flex;gap:28px;overflow-x:auto;scroll-behavior:smooth;padding:22px 6px}
.carousel::-webkit-scrollbar{display:none}
.card{flex:0 0 auto;width:min(360px,86vw);background:#f7f7f7;border-radius:16px;box-shadow:var(--shadow);padding:14px 14px 18px;text-align:center}
.card img{width:100%;height:280px;object-fit:contain;background:#fff;border-radius:10px;cursor:pointer}
.card h3{color:#0b2f6b;margin:14px 0 6px;text-transform:uppercase;font-size:16px;letter-spacing:.3px}
.price{font-weight:bold;margin:6px 0}
.card p{margin:6px 0 0;color:#333}
.btns{display:flex;gap:12px;justify-content:center;margin-top:12px}
.btn{flex:1;display:inline-block;padding:10px 14px;border-radius:10px;color:#fff;text-decoration:none;font-weight:bold;cursor:pointer}
.btn-primary{background:var(--azul-btn)} .btn-secondary{background:var(--azul-btn-2)} .btn:hover{filter:brightness(1.05)}
.arrow{position:fixed;top:50%;transform:translateY(-50%);font-size:34px;color:#00bfff;background:#fff;border-radius:50%;padding:8px 12px;cursor:pointer;box-shadow:0 4px 14px rgba(0,0,0,.25);z-index:20;user-select:none}
.arrow.left{left:8px} .arrow.right{right:8px} .arrow:hover{background:#e6f7ff}
#lightbox{display:none;position:fixed;inset:0;background:rgba(0,0,0,.85);justify-content:center;align-items:center;z-index:50}
#lightbox img{max-width:92%;max-height:92%} #lightbox:target{display:flex}
footer{background:var(--azul-footer);color:#fff;text-align:center;padding:22px 16px}
.social img{width:28px;margin:0 8px;vertical-align:middle}
.modal-backdrop{display:none;position:fixed;inset:0;background:rgba(0,0,0,.55);z-index:2000;align-items:center;justify-content:center;padding:16px}
.modal{width:100%;max-width:520px;background:#fff;border-radius:14px;box-shadow:0 12px 34px rgba(0,0,0,.25);overflow:hidden}
.modal header{background:linear-gradient(180deg,var(--azul-top),var(--azul-bottom));color:#fff;padding:14px 16px}
.modal .content{padding:16px}
.form-row{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}
.input{padding:10px;border:1px solid #cfd6ff;border-radius:8px;font-size:15px}
.form-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:10px}
</style>
</head>
<body>

<header>
  <div class="header-wrap">
    <img class="logo" src="https://i.postimg.cc/852rV0T7/Whats-App-Image-2025-03-26-at-12-46-00.jpg" alt="Logo">
    <div class="brand"><h1>ENTRETALLES</h1><p>Molder√≠a F√≠sica ‚Äì MUJER</p></div>
    <div class="header-actions"><button class="profile-btn" id="openProfile">Mi cuenta</button></div>
  </div>
</header>

<nav>
  <a href="index.html">Inicio</a>
  <a href="digital.html">Digital</a>
  <a href="fisica.html">F√≠sica</a>
  <a href="cart.html">üõí Carrito</a>
</nav>

<div class="search"><input id="searchInput" type="text" placeholder="Buscar prenda..."></div>

<div class="arrow left" onclick="scrollCarousel(-1)">&#10094;</div>
<div class="arrow right" onclick="scrollCarousel(1)">&#10095;</div>

<div class="wrap"><div id="products" class="carousel"></div></div>

<div id="lightbox"><img id="lightbox-img" src="" alt="Vista previa"></div>

<footer>
  <p>¬© 2025 Entretalles. Todos los derechos reservados.</p>
  <div class="social">
    <a href="https://www.instagram.com/mgconfecciones.arg/" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram"></a>
    <a href="https://wa.me/541133627786" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp"></a>
    <a href="https://www.facebook.com/share/17EgVid4V9/?mibextid=wwXIfr" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/1/1b/Facebook_icon.svg" alt="Facebook"></a>
  </div>
</footer>

<!-- Modal -->
<div class="modal-backdrop" id="buyerModal">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="buyerTitle">
    <header><h3 id="buyerTitle" style="margin:0">Datos del comprador</h3></header>
    <div class="content">
      <div class="form-row"><label>Nombre y apellido</label><input class="input" id="buyerName" type="text" placeholder="tu nombre"></div>
      <div class="form-row"><label>Tel√©fono</label><input class="input" id="buyerPhone" type="tel" placeholder="12345678"></div>
      <div class="form-row"><label>Email</label><input class="input" id="buyerEmail" type="email" placeholder="cliente@mail.com"></div>
      <div class="form-actions">
        <button class="btn btn-secondary" id="closeBuyer">Cerrar</button>
        <button class="btn btn-primary" id="saveBuyer">Guardar</button>
      </div>
    </div>
  </div>
</div>

<script>
/* carrito unificado */
function getCart(){ try{ return JSON.parse(localStorage.getItem('entretalles_cart')||'[]'); }catch(e){ return []; } }
function setCart(c){ localStorage.setItem('entretalles_cart', JSON.stringify(c||[])); }
function addToCart(item){ const c=getCart(); item.qty=item.qty?Number(item.qty):1; c.push(item); setCart(c); }
function buyNow(item){ addToCart(item); location.href='cart.html'; }

/* modal mi cuenta */
const buyerModal=document.getElementById('buyerModal');
const openProfile=document.getElementById('openProfile');
const closeBuyer=document.getElementById('closeBuyer');
const saveBuyer=document.getElementById('saveBuyer');
const nameInput=document.getElementById('buyerName');
const phoneInput=document.getElementById('buyerPhone');
const emailInput=document.getElementById('buyerEmail');
function loadBuyer(){ try{const d=JSON.parse(localStorage.getItem('entretalles_buyer')||'{}'); nameInput.value=d.name||'tu nombre'; phoneInput.value=d.phone||'12345678'; emailInput.value=d.email||'';}catch(e){} }
function showBuyer(){ loadBuyer(); buyerModal.style.display='flex'; }
function hideBuyer(){ buyerModal.style.display='none'; }
openProfile?.addEventListener('click', showBuyer);
closeBuyer?.addEventListener('click', hideBuyer);
buyerModal?.addEventListener('click', e=>{ if(e.target===buyerModal) hideBuyer(); });
saveBuyer?.addEventListener('click', ()=>{ const data={name:nameInput.value.trim(),phone:phoneInput.value.trim(),email:emailInput.value.trim()}; localStorage.setItem('entretalles_buyer', JSON.stringify(data)); hideBuyer(); });

/* CSV MUJER F√çSICA */
const SHEET_URL='https://docs.google.com/spreadsheets/d/e/2PACX-1vRUzZtGSNl1KepY3y3jt6VbMwMTi9f2hFxJYqQqy0rITtxUtL8aSDIpORhzW9H74ItdJdNCjTY_XaNR/pub?gid=0&single=true&output=csv';
function parseCSV(t){const R=[];let r=[],v='',q=false;for(let i=0;i<t.length;i++){const c=t[i],n=t[i+1];if(c==='\"'){if(q&&n==='\"'){v+='\"';i++;}else q=!q;}else if(c===','&&!q){r.push(v);v='';}else if((c==='\n'||c==='\r')&&!q){if(v!==''||r.length){r.push(v);R.push(r);r=[];v='';}}else v+=c;}if(v!==''||r.length){r.push(v);R.push(r);}return R;}

let ALL=[];
fetch(SHEET_URL).then(r=>r.text()).then(txt=>{
  const rows=parseCSV(txt.trim()); if(!rows.length) return;
  const h=rows.shift().map(x=>x.trim().toLowerCase());
  const idx=n=>h.indexOf(n);
  const iN=idx('nombre'),iC=idx('categoria'),iI=idx('imagen'),iP=idx('precio'),iD=idx('descripcion'),iL=idx('link'),iD2=idx('descripcion 2');
  rows.forEach(r=>{
    const it={nombre:r[iN]||'',categoria:(r[iC]||'').toLowerCase(),imagen:r[iI]||'',precio:r[iP]||'',descripcion:r[iD]||'',link:r[iL]||'',descripcion2:r[iD2]||''};
    if(!it.categoria || it.categoria.includes('mujer')) ALL.push(it);
  });
  render(ALL);
  document.getElementById('searchInput').addEventListener('input',e=>{
    const q=e.target.value.toLowerCase();
    render(ALL.filter(it=>(it.nombre||'').toLowerCase().includes(q)||(it.descripcion||'').toLowerCase().includes(q)||(it.descripcion2||'').toLowerCase().includes(q)));
  });
});

function render(list){
  const box=document.getElementById('products'); box.innerHTML='';
  list.forEach(it=>{
    const itemForCart={name:it.nombre||'', price:parseFloat((it.precio||'0').toString().replace('.','').replace(',','.'))||0, image:it.imagen||'', category:'F√≠sica ‚Ä¢ Mujer'};
    const card=document.createElement('div'); card.className='card';
    card.innerHTML=`
      <img src="${it.imagen||''}" alt="${it.nombre||''}" onclick="openLightbox('${(it.imagen||'').replace(/'/g,"\\'")}')">
      <h3>${it.nombre||''}</h3>
      <div class="price">${it.precio? '$'+it.precio : ''}</div>
      <p>${it.descripcion||''}</p>
      ${it.descripcion2?`<p>${it.descripcion2}</p>`:''}
      <div class="btns">
        <a class="btn btn-primary" href="javascript:void(0)" onclick='buyNow(${JSON.stringify(itemForCart)})'>Comprar</a>
        <a class="btn btn-secondary" href="javascript:void(0)" onclick='addToCart(${JSON.stringify(itemForCart)})'>Agregar al carrito</a>
      </div>`;
    box.appendChild(card);
  });
}

function scrollCarousel(d){document.getElementById('products').scrollBy({left:d*(360+28),behavior:'smooth'});}
function openLightbox(src){document.getElementById('lightbox-img').src=src; location.hash='lightbox';}
</script>
</body>
</html>
